{"version":3,"sources":["gql/query.js","shared/user.state.js","hooks/auth.js","assets/logo/logo.svg","utils/profile.js","components/Header.js","components/Feeds.js","gql/mutation.js","components/Editor.js","components/Login.js","shared/story.state.js","components/ReactButton.js","hooks/utilsHook.js","components/ShareButton.js","components/Comment.js","components/CommentBox.js","components/DeleteButton.js","components/StoryView.js","components/Register.js","components/Follow.js","components/Logout.js","components/Profile.js","components/UpdateEditor.js","App.js","serviceWorkerRegistration.js","reportWebVitals.js","index.js"],"names":["GET_STORY","gql","GET_STORY_BY_ID","GET_ME","GET_USER_BY_ID","isLogin","atom","key","default","isFollow","useAuth","login","useRecoilValue","useQuery","data","refetch","useEffect","me","user","createProfile","id","createAvatar","style","seed","Header","svg","className","to","src","logo","alt","dangerouslySetInnerHTML","__html","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","Feeds","getAllStory","map","authorID","author","username","title","Date","Number","createdAt","toDateString","reactions","length","comments","LOGIN_USER","REGISTER_USER","UPDATE_STORY","DELETE_STORY","CREATE_STORY","LOGOUT","COMMENT","REACT","FOLLOW_USER","Editor","useMutation","createStory","history","useHistory","useState","value","setValue","setTitle","preview","setPreview","onSave","a","variables","content","push","placeholder","onChange","e","target","autoFocus","disabled","onClick","hideToolbar","height","Login","email","setEmail","password","setPassword","loginUser","useRecoilState","setLogin","onSubmit","preventDefault","type","required","error","isReact","isComment","ReactButton","reacted","isReacted","story","react","getStoryById","useReact","onReact","indexOf","fillRule","clipRule","ShareButton","navigator","share","text","url","Comment","comment","avatar","getUserById","Markdown","source","CommentBox","commented","setCommented","useComment","onComment","c","DeleteButton","deleteStory","onDelete","StoryView","useParams","fontSize","Register","setUsername","registerUser","createUser","Follow","followUser","follow","setFollow","useFollow","onFollow","followers","Logout","logout","onLogout","Profile","followings","stories","s","UpdateEditor","updateStory","App","client","ApolloClient","uri","cache","InMemoryCache","ApolloProvider","path","exact","component","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById","URL","process","href","origin","addEventListener","fetch","headers","response","contentType","get","status","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.30513422.chunk.js","sourcesContent":["import { gql } from \"@apollo/client\";\r\nexport const GET_STORY = gql`\r\n  query {\r\n    getAllStory {\r\n      id\r\n      content\r\n      title\r\n      authorID\r\n      createdAt\r\n      reactions\r\n      comments {\r\n        author\r\n        comment\r\n      }\r\n      author {\r\n        username\r\n      }\r\n    }\r\n  }\r\n`;\r\nexport const GET_STORY_BY_ID = gql`\r\n  query getStoryById($id: ID!) {\r\n    getStoryById(id: $id) {\r\n      title\r\n      content\r\n      authorID\r\n      createdAt\r\n      reactions\r\n      comments {\r\n        author\r\n        comment\r\n      }\r\n      author {\r\n        username\r\n      }\r\n    }\r\n  }\r\n`;\r\nexport const GET_ME = gql`\r\n  query {\r\n    me {\r\n      user\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_USER_BY_ID = gql`\r\n  query getUserById($id: ID!) {\r\n    getUserById(id: $id) {\r\n      username\r\n      email\r\n      followers\r\n      followings\r\n      stories {\r\n        id\r\n        title\r\n        content\r\n        createdAt\r\n        reactions\r\n        comments {\r\n          author\r\n          comment\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import { atom } from \"recoil\";\r\n\r\nexport const isLogin = atom({\r\n  key: \"isLogin\",\r\n  default: false,\r\n});\r\nexport const isFollow = atom({\r\n  key: \"isFollow\",\r\n  default: false,\r\n});\r\n","import { useQuery } from \"@apollo/client\";\r\nimport { useEffect } from \"react\";\r\nimport { useRecoilValue } from \"recoil\";\r\nimport { GET_ME } from \"../gql/query\";\r\nimport { isLogin } from \"../shared/user.state\";\r\n\r\nexport const useAuth = () => {\r\n  const login = useRecoilValue(isLogin);\r\n  const { data, refetch } = useQuery(GET_ME);\r\n  useEffect(() => {\r\n    refetch();\r\n  }, [login]);\r\n  return data?.me?.user;\r\n};\r\n","export default __webpack_public_path__ + \"static/media/logo.b74770b2.svg\";","import { createAvatar } from \"@dicebear/avatars\";\r\nimport * as style from \"@dicebear/avatars-bottts-sprites\";\r\n\r\nexport const createProfile = (id) => {\r\n  const svg = createAvatar(style, {\r\n    seed: id,\r\n  });\r\n  return svg;\r\n};\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { useAuth } from \"../hooks/auth\";\r\nimport logo from \"../assets/logo/logo.svg\";\r\nimport { createProfile } from \"../utils/profile\";\r\n\r\nconst Header = () => {\r\n  const user = useAuth();\r\n  const svg = createProfile(user);\r\n\r\n  return (\r\n    <nav\r\n      className={`sticky top-0 w-full h-16 bg-white flex justify-around items-center   px-4 z-10`}\r\n    >\r\n      <Link\r\n        to=\"/\"\r\n        className=\"font-medium w-20 flex items-center justify-center text-gray-800 cursor-pointer hover:text-blue-500\"\r\n      >\r\n        <img className=\"w-20 \" src={logo} alt=\"Storium\" />\r\n      </Link>\r\n\r\n      {user ? (\r\n        <Link\r\n          to={`/profile/${user}`}\r\n          className=\"hidden md:flex items-center justify-center cursor-pointer outline-none sticky right-0 top-2 w-10 h-10 rounded-full  \"\r\n        >\r\n          <div\r\n            className=\"w-10 h-10\"\r\n            dangerouslySetInnerHTML={{ __html: svg }}\r\n          ></div>\r\n        </Link>\r\n      ) : (\r\n        <Link\r\n          to=\"/login\"\r\n          className=\"hidden md:flex text-blue-700 items-center justify-center cursor-pointer outline-none sticky right-0 top-2 w-8 h-8 rounded-full bg-blue-200  \"\r\n        >\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            className=\"h-6 w-6\"\r\n            fill=\"none\"\r\n            viewBox=\"0 0 24 24\"\r\n            stroke=\"currentColor\"\r\n          >\r\n            <path\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n              strokeWidth={2}\r\n              d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"\r\n            />\r\n          </svg>\r\n        </Link>\r\n      )}\r\n\r\n      <ul\r\n        className={`flex justify-between items-center w-1/2 md:-translate-x-full md:hidden `}\r\n      >\r\n        <li>\r\n          <Link\r\n            to=\"/\"\r\n            className=\"font-medium w-20 flex items-center justify-center text-gray-800 cursor-pointer hover:text-blue-500\"\r\n          >\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              className=\"h-6 w-6\"\r\n              fill=\"none\"\r\n              viewBox=\"0 0 24 24\"\r\n              stroke=\"currentColor\"\r\n            >\r\n              <path\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                strokeWidth={2}\r\n                d=\"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253\"\r\n              />\r\n            </svg>{\" \"}\r\n            Stories\r\n          </Link>\r\n        </li>\r\n        {user && (\r\n          <li>\r\n            <Link\r\n              to=\"/editor\"\r\n              className=\"font-medium flex w-32 justify-center items-center text-gray-800 cursor-pointer hover:text-blue-500\"\r\n            >\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                className=\"h-6 w-6\"\r\n                fill=\"none\"\r\n                viewBox=\"0 0 24 24\"\r\n                stroke=\"currentColor\"\r\n              >\r\n                <path\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                  strokeWidth={2}\r\n                  d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\"\r\n                />\r\n              </svg>{\" \"}\r\n              Create Story\r\n            </Link>\r\n          </li>\r\n        )}\r\n        {user ? (\r\n          <li>\r\n            <Link to={`/profile/${user}`}>\r\n              <div\r\n                className=\"w-9 h-9\"\r\n                dangerouslySetInnerHTML={{ __html: svg }}\r\n              ></div>\r\n            </Link>\r\n          </li>\r\n        ) : (\r\n          <li>\r\n            <Link to=\"/login\">\r\n              <button className=\" flex items-center justify-center w-32 h-9 bg-blue-500 font-medium text-white rounded-md hover:bg-blue-700 cursor-pointer outline-none shadow-md \">\r\n                Get Started\r\n                <svg\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  className=\"h-6 w-6\"\r\n                  fill=\"none\"\r\n                  viewBox=\"0 0 24 24\"\r\n                  stroke=\"currentColor\"\r\n                >\r\n                  <path\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                    strokeWidth={2}\r\n                    d=\"M13 7l5 5m0 0l-5 5m5-5H6\"\r\n                  />\r\n                </svg>\r\n              </button>\r\n            </Link>\r\n          </li>\r\n        )}\r\n      </ul>\r\n    </nav>\r\n  );\r\n};\r\nexport default Header;\r\n","import { useQuery } from \"@apollo/client\";\r\nimport React, { useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { GET_STORY } from \"../gql/query\";\r\nimport { createProfile } from \"../utils/profile\";\r\n\r\nconst Feeds = () => {\r\n  const { data, refetch } = useQuery(GET_STORY);\r\n\r\n  useEffect(() => {\r\n    refetch();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"w-1/2 m-auto  px-8 py-4 md:w-full md:px-2 \">\r\n      {data ? (\r\n        data.getAllStory.map((d) => (\r\n          <Link key={d.id} to={`/story/${d.id}`}>\r\n            <div className=\"w-full bg-blue-100  mr-auto ml-auto mb-4 px-4 md:px-2 py-2 flex justify-between flex-col border-2 rounded-md\">\r\n              <div className=\"mb-6 md:mb-3\">\r\n                <Link\r\n                  to={`/profile/${d.authorID}`}\r\n                  className=\"flex items-center md:flex-col md:items-start\"\r\n                >\r\n                  <div className=\"container flex items-center\">\r\n                    <div\r\n                      className=\"w-8 h-8 \"\r\n                      dangerouslySetInnerHTML={{\r\n                        __html: createProfile(d.authorID),\r\n                      }}\r\n                    ></div>\r\n                    <p className=\"font-semibold capitalize md:text-sm text-md px-4 md:px-2 text-gray-800 hover:text-blue-500\">\r\n                      {d.author.username}\r\n                    </p>\r\n                  </div>\r\n                </Link>\r\n              </div>\r\n              <p className=\"text-3xl font-extrabold md:font-bold font-sans  text-gray-800 cursor-pointer capitalize hover:text-blue-500 md:text-xl\">\r\n                {d.title}\r\n              </p>\r\n              <p className=\"text-gray-500 text-sm font-semibold py-2\">\r\n                Published on : {new Date(Number(d.createdAt)).toDateString()}\r\n              </p>\r\n\r\n              <div className=\"flex container justify-around items-center border-t-2 border-yellow-50 \">\r\n                <p className=\"font-medium text-gray-700\">\r\n                  {d.reactions.length} reactions\r\n                </p>\r\n                <p className=\"font-medium text-gray-700\">\r\n                  {d.comments.length} comments\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </Link>\r\n        ))\r\n      ) : (\r\n        <>\r\n          {[0, 0, 0, 0].map((d) => (\r\n            <div className=\"w-full bg-blue-100  mr-auto ml-auto mb-4 animate-pulse px-4 py-2 flex justify-between flex-col border-2 rounded-md\">\r\n              <div className=\"container h-8 bg-blue-200 rounded-lg  mb-8\"></div>\r\n              <div>\r\n                <div className=\"w-40 h-4 bg-blue-200 mb-2 rounded-sm\"></div>\r\n                <div className=\"w-36 h-6 bg-blue-200 rounded\"></div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Feeds;\r\n","import { gql } from \"@apollo/client\";\r\nexport const LOGIN_USER = gql`\r\n  mutation loginUser($email: String!, $password: String!) {\r\n    loginUser(email: $email, password: $password) {\r\n      user\r\n      error\r\n    }\r\n  }\r\n`;\r\nexport const REGISTER_USER = gql`\r\n  mutation registerUser(\r\n    $username: String!\r\n    $email: String!\r\n    $password: String!\r\n  ) {\r\n    createUser(username: $username, email: $email, password: $password) {\r\n      user\r\n      error\r\n    }\r\n  }\r\n`;\r\nexport const UPDATE_STORY = gql`\r\n  mutation updateStory($id: ID!, $title: String, $content: String) {\r\n    updateStory(id: $id, title: $title, content: $content) {\r\n      id\r\n    }\r\n  }\r\n`;\r\nexport const DELETE_STORY = gql`\r\n  mutation deleteStory($id: ID!) {\r\n    deleteStory(id: $id) {\r\n      id\r\n    }\r\n  }\r\n`;\r\nexport const CREATE_STORY = gql`\r\n  mutation CreateStory($title: String!, $content: String!) {\r\n    createStory(title: $title, content: $content) {\r\n      id\r\n    }\r\n  }\r\n`;\r\nexport const LOGOUT = gql`\r\n  mutation {\r\n    logout {\r\n      user\r\n    }\r\n  }\r\n`;\r\nexport const COMMENT = gql`\r\n  mutation comment($id: ID!, $comment: String) {\r\n    comment(id: $id, comment: $comment) {\r\n      id\r\n    }\r\n  }\r\n`;\r\nexport const REACT = gql`\r\n  mutation react($id: ID!) {\r\n    react(id: $id) {\r\n      id\r\n    }\r\n  }\r\n`;\r\nexport const FOLLOW_USER = gql`\r\n  mutation followUser($id: ID!) {\r\n    followUser(id: $id) {\r\n      id\r\n    }\r\n  }\r\n`;\r\n","import React, { useState } from \"react\";\r\nimport MDEditor from \"@uiw/react-md-editor\";\r\nimport { useMutation } from \"@apollo/client\";\r\nimport { CREATE_STORY } from \"../gql/mutation\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst Editor = () => {\r\n  const [createStory] = useMutation(CREATE_STORY);\r\n  const history = useHistory();\r\n  const [value, setValue] = useState(\"\");\r\n  const [title, setTitle] = useState(\"\");\r\n  const [preview, setPreview] = useState(false);\r\n  const onSave = async () => {\r\n    await createStory({\r\n      variables: { title: title, content: value },\r\n    });\r\n    try {\r\n      history.push(\"/\");\r\n    } catch {}\r\n  };\r\n\r\n  return (\r\n    <div className=\"w-full  px-40 md:p-2\">\r\n      <div className=\"w-full ml-auto sticky top-14 h-14 flex md:flex-col md:h-auto  md:mb-4 items-center justify-between\">\r\n        <input\r\n          className=\"w-4/6 md:w-full h-12 border-2 md:border px-4 md:px-2 text-xl md:text-lg font-bold md:font-semibold outline-none md:mb-2 rounded-md\"\r\n          placeholder=\"Title of the story\"\r\n          onChange={(e) => setTitle(e.target.value)}\r\n          autoFocus\r\n        />\r\n        <div className=\"md:container md:flex md:justify-evenly md:items-center\">\r\n          <button\r\n            disabled={value === \"\" || title === \"\"}\r\n            onClick={() => setPreview(!preview)}\r\n            className={`hidden w-28 md:w-20 h-8 bg-green-100 rounded-md   ${\r\n              value === \"\" || title === \"\" ? \"text-green-400\" : \"text-green-800\"\r\n            } hover:bg-green-300  text-md md:text-sm font-medium shadow-sm md:block`}\r\n          >\r\n            {preview ? \"Edit\" : \"Preview\"}\r\n          </button>\r\n          <button\r\n            onClick={() => history.push(\"/\")}\r\n            className=\"w-28 md:w-20 h-8 bg-yellow-100 rounded-md hover:bg-yellow-300 text-yellow-800 text-md md:text-sm  font-medium shadow-sm mx-2 md:mx-0\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            disabled={value === \"\" || title === \"\"}\r\n            onClick={onSave}\r\n            className={`w-28 md:w-20 h-8 bg-blue-200 rounded-md hover:bg-blue-300   ${\r\n              value === \"\" || title === \"\" ? \"text-blue-400\" : \"text-blue-800\"\r\n            } text-md md:text-sm  capitalize font-medium shadow-sm  ${\r\n              value === \"\" || title === \"\"\r\n                ? \"cursor-not-allowed\"\r\n                : \"cursor-pointer\"\r\n            }`}\r\n          >\r\n            publish\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div className=\"md:block hidden\">\r\n        <MDEditor\r\n          preview={preview ? \"preview\" : \"edit\"}\r\n          hideToolbar=\"true\"\r\n          height={500}\r\n          value={value}\r\n          onChange={setValue}\r\n        />\r\n      </div>\r\n      <div className=\"md:hidden block\">\r\n        <MDEditor height={500} value={value} onChange={setValue} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Editor;\r\n","import React, { useState } from \"react\";\r\nimport { useMutation } from \"@apollo/client\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\nimport { LOGIN_USER } from \"../gql/mutation\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport { isLogin } from \"../shared/user.state\";\r\n\r\nconst Login = () => {\r\n  const history = useHistory();\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [loginUser, { data }] = useMutation(LOGIN_USER);\r\n  const [login, setLogin] = useRecoilState(isLogin);\r\n  const onSubmit = async (e) => {\r\n    e.preventDefault();\r\n    await loginUser({\r\n      variables: { email: email, password: password },\r\n    });\r\n  };\r\n\r\n  if (data?.loginUser?.user) {\r\n    setLogin(!login);\r\n    history.push(\"/\");\r\n  }\r\n\r\n  return (\r\n    <div className=\"md:w-full p-8 w-4/12 shadow-lg rounded-lg h-96 ml-auto mr-auto mt-32 md:mt-20 flex flex-col justify-center items-center bg-gray-100\">\r\n      <p className=\"text-blue-500 font-bold text-3xl mb-4\">Login</p>\r\n      <form\r\n        className=\"container h-60 flex justify-around items-center flex-col relative\"\r\n        onSubmit={onSubmit}\r\n      >\r\n        <input\r\n          className=\"w-80 h-11 outline-none border-2 rounded-lg border-blue-400 p-4\"\r\n          type=\"email\"\r\n          placeholder=\"email\"\r\n          onChange={(e) => setEmail(e.target.value)}\r\n          required\r\n        />\r\n        <input\r\n          className=\"w-80 h-11 outline-none border-2 rounded-lg border-blue-400 p-4\"\r\n          type=\"password\"\r\n          placeholder=\"password\"\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          required\r\n        />\r\n        {data?.loginUser?.error && (\r\n          <p className=\"text-red-500 font-medium \">{data.loginUser.error}</p>\r\n        )}\r\n        <button\r\n          disabled={!email || !password}\r\n          type=\"submit\"\r\n          className=\"w-40 md:w-28 h-9 bg-blue-200   rounded-lg text-blue-700 font-semibold  uppercase hover:bg-blue-300 \"\r\n        >\r\n          submit\r\n        </button>\r\n        <Link to=\"/register\">\r\n          <p className=\"font-medium text-base hover:text-blue-400 cursor-pointer \">\r\n            new user\r\n          </p>\r\n        </Link>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import { atom } from \"recoil\";\r\n\r\nexport const isReact = atom({\r\n  key: \"isReact\",\r\n  default: false,\r\n});\r\n\r\nexport const isComment = atom({\r\n  key: \"isComment\",\r\n  default: false,\r\n});\r\n","import { useMutation } from \"@apollo/client\";\r\n\r\nimport React from \"react\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport { REACT } from \"../gql/mutation\";\r\n\r\nimport { useAuth } from \"../hooks/auth\";\r\nimport { useReact } from \"../hooks/utilsHook\";\r\nimport { isReact } from \"../shared/story.state\";\r\n\r\nconst ReactButton = ({ id }) => {\r\n  const [reacted, isReacted] = useRecoilState(isReact);\r\n  const user = useAuth();\r\n  const story = useReact(id);\r\n  const [react] = useMutation(REACT);\r\n  const onReact = async () => {\r\n    await react({\r\n      variables: { id },\r\n    });\r\n    try {\r\n      isReacted(!reacted);\r\n    } catch {}\r\n  };\r\n\r\n  return (\r\n    <div onClick={onReact} className=\"cursor-pointer\">\r\n      {story.reactions.indexOf(user) === -1 ? (\r\n        <svg\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          className=\"h-6 w-6\"\r\n          fill=\"none\"\r\n          viewBox=\"0 0 24 24\"\r\n          stroke=\"currentColor\"\r\n        >\r\n          <path\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n            strokeWidth={2}\r\n            d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"\r\n          />\r\n        </svg>\r\n      ) : (\r\n        <svg\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          className=\"h-6 w-6\"\r\n          viewBox=\"0 0 20 20\"\r\n          fill=\"currentColor\"\r\n        >\r\n          <path\r\n            fillRule=\"evenodd\"\r\n            d=\"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z\"\r\n            clipRule=\"evenodd\"\r\n          />\r\n        </svg>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\nexport default ReactButton;\r\n","import { useQuery } from \"@apollo/client\";\r\nimport { useEffect } from \"react\";\r\nimport { useRecoilValue } from \"recoil\";\r\nimport { GET_STORY_BY_ID, GET_USER_BY_ID } from \"../gql/query\";\r\nimport { isComment, isReact } from \"../shared/story.state\";\r\nimport { isFollow } from \"../shared/user.state\";\r\n\r\nexport const useFollow = (id) => {\r\n  const follow = useRecoilValue(isFollow);\r\n  const { data, refetch } = useQuery(GET_USER_BY_ID, {\r\n    variables: { id: id },\r\n  });\r\n  useEffect(() => {\r\n    refetch();\r\n  }, [follow]);\r\n  return data?.getUserById;\r\n};\r\nexport const useReact = (id) => {\r\n  const react = useRecoilValue(isReact);\r\n  const { data, refetch } = useQuery(GET_STORY_BY_ID, {\r\n    variables: { id: id },\r\n  });\r\n  useEffect(() => {\r\n    refetch();\r\n  }, [react]);\r\n  return data?.getStoryById;\r\n};\r\nexport const useComment = (id) => {\r\n  const comment = useRecoilValue(isComment);\r\n  const { data, refetch } = useQuery(GET_STORY_BY_ID, {\r\n    variables: { id: id },\r\n  });\r\n  useEffect(() => {\r\n    refetch();\r\n  }, [comment]);\r\n  return data?.getStoryById;\r\n};\r\n","import { storeValueIsStoreObject } from \"@apollo/client/cache/inmemory/helpers\";\r\nimport { title } from \"@uiw/react-md-editor\";\r\nimport React from \"react\";\r\n\r\nconst ShareButton = ({ title, id }) => {\r\n  const onShare = () => {\r\n    if (navigator.share) {\r\n      navigator.share({\r\n        title: title,\r\n        text: \"Storium\",\r\n        url: `https://storium.herokuapp.com/story/${id}`,\r\n      });\r\n    }\r\n  };\r\n  return (\r\n    <div onClick={onShare} className=\"cursor-pointer\">\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        className=\"h-6 w-6\"\r\n        fill=\"none\"\r\n        viewBox=\"0 0 24 24\"\r\n        stroke=\"currentColor\"\r\n      >\r\n        <path\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n          strokeWidth={2}\r\n          d=\"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z\"\r\n        />\r\n      </svg>\r\n    </div>\r\n  );\r\n};\r\nexport default ShareButton;\r\n","import { useQuery } from \"@apollo/client\";\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport MDEditor from \"@uiw/react-md-editor\";\r\nimport { GET_USER_BY_ID } from \"../gql/query\";\r\n\r\nimport { createProfile } from \"../utils/profile\";\r\n\r\nconst Comment = ({ comment }) => {\r\n  const { data } = useQuery(GET_USER_BY_ID, {\r\n    variables: { id: comment.author },\r\n  });\r\n  const avatar = createProfile(comment.author);\r\n  return (\r\n    <>\r\n      {data && (\r\n        <div className=\"container my-2 border-2 p-1\">\r\n          <Link to={`/profile/${comment.author}`}>\r\n            <div className=\"flex items-center mb-2\">\r\n              <div\r\n                className=\"w-8 h-8\"\r\n                dangerouslySetInnerHTML={{ __html: avatar }}\r\n              ></div>\r\n              <p className=\"px-2 text-base font-medium\">\r\n                {data.getUserById.username}\r\n              </p>\r\n            </div>\r\n          </Link>\r\n          <MDEditor.Markdown source={comment.comment} />\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Comment;\r\n","import { useMutation } from \"@apollo/client\";\r\n\r\nimport MDEditor from \"@uiw/react-md-editor\";\r\nimport Comment from \"./Comment\";\r\nimport React, { useState } from \"react\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport { COMMENT } from \"../gql/mutation\";\r\nimport { useComment } from \"../hooks/utilsHook\";\r\nimport { isComment } from \"../shared/story.state\";\r\nimport { useAuth } from \"../hooks/auth\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst CommentBox = ({ id }) => {\r\n  const user = useAuth();\r\n  const history = useHistory();\r\n  const [value, setValue] = useState(\"\");\r\n  const [commented, setCommented] = useRecoilState(isComment);\r\n  const [preview, setPreview] = useState(false);\r\n  const story = useComment(id);\r\n  const [comment] = useMutation(COMMENT);\r\n  const onComment = async () => {\r\n    await comment({\r\n      variables: {\r\n        id: id,\r\n        comment: value,\r\n      },\r\n    });\r\n    try {\r\n      setCommented(!commented);\r\n      setValue(\"\");\r\n    } catch {}\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        {user ? (\r\n          <>\r\n            <MDEditor\r\n              preview={preview ? \"preview\" : \"edit\"}\r\n              hideToolbar=\"true\"\r\n              value={value}\r\n              onChange={setValue}\r\n              height={100}\r\n            />\r\n            <div className=\"container p-1 flex items-center justify-around\">\r\n              <button\r\n                disabled={value === \"\"}\r\n                onClick={() => setPreview(!preview)}\r\n                className={`w-24 h-8 rounded-md bg-green-200  ${\r\n                  value === \"\" ? \"text-green-400\" : \"text-green-700\"\r\n                } font-semibold capitalize outline-none  ${\r\n                  value === \"\" ? \"cursor-not-allowed \" : \"cursor-pointer\"\r\n                }`}\r\n              >\r\n                {preview ? \"edit\" : \"preview\"}\r\n              </button>\r\n              <button\r\n                disabled={value === \"\"}\r\n                onClick={onComment}\r\n                className={`w-24 h-8 rounded-md bg-blue-200  ${\r\n                  value === \"\" ? \"text-blue-400\" : \"text-blue-700\"\r\n                } font-semibold capitalize outline-none ${\r\n                  value === \"\" ? \"cursor-not-allowed \" : \"cursor-pointer\"\r\n                }`}\r\n              >\r\n                comment\r\n              </button>\r\n            </div>\r\n          </>\r\n        ) : (\r\n          <div>\r\n            <button\r\n              onClick={() => history.push(\"/login\")}\r\n              className=\"container h-12 md:h-9 bg-blue-200 text-blue-700 hover:bg-blue-300 rounded\"\r\n            >\r\n              sign in to react or comment\r\n            </button>\r\n          </div>\r\n        )}\r\n        <div>\r\n          <p className=\"text-lg font-bold \">Comments</p>\r\n          {story.comments.length > 0 ? (\r\n            story.comments.map((c) => <Comment comment={c} key={c.id} />)\r\n          ) : (\r\n            <div className=\"container h-32 flex justify-center items-center\">\r\n              <p className=\"text-lg font-bold text-gray-400\">\r\n                Nothing to show here\r\n              </p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default CommentBox;\r\n","import { useMutation } from \"@apollo/client\";\r\nimport React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { DELETE_STORY } from \"../gql/mutation\";\r\n\r\nconst DeleteButton = ({ id }) => {\r\n  const history = useHistory();\r\n  const [deleteStory] = useMutation(DELETE_STORY);\r\n  const onDelete = async () => {\r\n    await deleteStory({\r\n      variables: { id },\r\n    });\r\n    try {\r\n      history.push(\"/\");\r\n    } catch {}\r\n  };\r\n  return (\r\n    <button\r\n      onClick={onDelete}\r\n      className=\"bg-red-200 text-red-700 rounded-lg w-28 h-9 md:w-20 md:h-8 text-base font-semibold capitalize\"\r\n    >\r\n      delete\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default DeleteButton;\r\n","import React from \"react\";\r\nimport MDEditor from \"@uiw/react-md-editor\";\r\nimport { useQuery } from \"@apollo/client\";\r\nimport { GET_STORY_BY_ID } from \"../gql/query\";\r\nimport { useParams } from \"react-router\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { createProfile } from \"../utils/profile\";\r\nimport ReactButton from \"./ReactButton\";\r\nimport ShareButton from \"./ShareButton\";\r\nimport CommentBox from \"./CommentBox\";\r\nimport { useAuth } from \"../hooks/auth\";\r\nimport DeleteButton from \"./DeleteButton\";\r\n\r\nconst StoryView = () => {\r\n  const { id } = useParams();\r\n  const user = useAuth();\r\n  const history = useHistory();\r\n  const { data } = useQuery(GET_STORY_BY_ID, {\r\n    variables: { id: id },\r\n  });\r\n\r\n  return (\r\n    <div className=\"w-2/3 ml-auto mr-auto p-8 bg-white md:w-full md:p-4\">\r\n      {data ? (\r\n        <>\r\n          <div className=\"mb-8\">\r\n            <p className=\"text-4xl font-extrabold mb-8 capitalize md:text-3xl md:font-bold \">\r\n              {data.getStoryById.title}\r\n            </p>\r\n            <div className={`flex items-center container justify-between`}>\r\n              <div className=\"flex items-center justify-between md:flex-col md:items-start\">\r\n                <Link\r\n                  to={`/profile/${data.getStoryById.authorID}`}\r\n                  className=\"flex items-center\"\r\n                >\r\n                  <div\r\n                    dangerouslySetInnerHTML={{\r\n                      __html: createProfile(data.getStoryById.authorID),\r\n                    }}\r\n                    className=\"w-12 h-12 md:w-8 md:h-8\"\r\n                  ></div>\r\n                  <p className=\"px-4 md:px-2 hover:text-blue-500 capitalize font-bold text-gray-700\">\r\n                    {\" \"}\r\n                    {data.getStoryById.author.username}\r\n                  </p>\r\n                </Link>\r\n\r\n                <p className=\"text-gray-500 text-sm font-semibold\">\r\n                  Published on :{\" \"}\r\n                  {new Date(Number(data.getStoryById.createdAt)).toDateString()}\r\n                </p>\r\n              </div>\r\n              {user && (\r\n                <div className=\"md:w-20   \">\r\n                  <button\r\n                    onClick={() => history.push(`/update/${id}`)}\r\n                    className=\"bg-green-200 mb-2 mx-2 md:mx-0 text-green-700 rounded-lg w-28 h-9 md:w-20 md:h-8 text-base font-semibold capitalize\"\r\n                  >\r\n                    update\r\n                  </button>\r\n                  <DeleteButton id={id} />\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n          <hr />\r\n          <MDEditor.Markdown\r\n            className=\"  text-gray-800 md:text-md\"\r\n            style={{ fontSize: \"1.1rem\" }}\r\n            source={data.getStoryById.content}\r\n          />\r\n\r\n          <div className=\"container flex justify-around items-center h-10 border rounded mt-2\">\r\n            {user && <ReactButton id={id} />}\r\n            <ShareButton id={id} title={data.getStoryById.title} />\r\n          </div>\r\n\r\n          <CommentBox id={id} />\r\n        </>\r\n      ) : (\r\n        <>\r\n          <div className=\"mb-8 animate-pulse\">\r\n            <div className=\"container h-12 rounded-lg bg-gray-200 mb-8\"></div>\r\n            <div className=\"flex items-center justify-between md:flex-col md:items-start\">\r\n              <div className=\"bg-gray-200 w-32 h-4 rounded mb-2\"></div>\r\n              <div className=\"bg-gray-200 w-36 h-4 rounded\"></div>\r\n            </div>\r\n          </div>\r\n          <hr />\r\n          <div className=\"container animate-pulse \">\r\n            <div className=\"container h-4 mb-2 bg-gray-200\"></div>\r\n            <div className=\"container h-4  mb-2 bg-gray-200\"></div>\r\n            <div className=\"container h-4  mb-2 bg-gray-200\"></div>\r\n            <div className=\"container h-4  mb-2 bg-gray-200\"></div>\r\n            <div className=\"container h-4 bg-gray-200\"></div>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\nexport default StoryView;\r\n","import React, { useState } from \"react\";\r\nimport { useMutation } from \"@apollo/client\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { REGISTER_USER } from \"../gql/mutation\";\r\n\r\nconst Register = () => {\r\n  const history = useHistory();\r\n  const [username, setUsername] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [registerUser, { data }] = useMutation(REGISTER_USER);\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    registerUser({\r\n      variables: { username: username, email: email, password: password },\r\n    });\r\n  };\r\n\r\n  if (data?.createUser?.user) {\r\n    history.push(\"/login\");\r\n  }\r\n\r\n  return (\r\n    <div className=\"md:w-full p-8 w-4/12 shadow-lg rounded-lg h-96 ml-auto md:mt-20 mr-auto mt-32 flex flex-col justify-center items-center bg-gray-100\">\r\n      <p className=\"text-blue-500 font-bold text-3xl mb-4\">Register</p>\r\n      <form\r\n        className=\"container h-60 flex justify-around items-center flex-col \"\r\n        onSubmit={onSubmit}\r\n      >\r\n        <input\r\n          className=\"w-80 h-11 outline-none border-2 rounded-lg border-blue-400 p-4\"\r\n          type=\"text\"\r\n          placeholder=\"username\"\r\n          required\r\n          onChange={(e) => setUsername(e.target.value)}\r\n        />\r\n\r\n        <input\r\n          className=\"w-80 h-11 outline-none border-2 rounded-lg border-blue-400 p-4\"\r\n          type=\"email\"\r\n          placeholder=\"email\"\r\n          required\r\n          onChange={(e) => setEmail(e.target.value)}\r\n        />\r\n        <input\r\n          className=\"w-80 h-11 outline-none border-2 rounded-lg border-blue-400 p-4\"\r\n          type=\"password\"\r\n          placeholder=\"password\"\r\n          required\r\n          onChange={(e) => setPassword(e.target.value)}\r\n        />\r\n        {data?.createUser?.error && (\r\n          <p className=\"text-red-500 font-medium \">{data.createUser.error}</p>\r\n        )}\r\n        <button\r\n          type=\"submit\"\r\n          className=\"w-40 md:w-28 h-9 bg-blue-200 rounded-lg text-blue-700 font-semibold uppercase hover:bg-blue-300\"\r\n        >\r\n          submit\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","import { useMutation } from \"@apollo/client\";\r\nimport React from \"react\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport { FOLLOW_USER } from \"../gql/mutation\";\r\nimport { useAuth } from \"../hooks/auth\";\r\nimport { useFollow } from \"../hooks/utilsHook\";\r\nimport { isFollow } from \"../shared/user.state\";\r\n\r\nconst Follow = ({ id }) => {\r\n  const [followUser] = useMutation(FOLLOW_USER);\r\n  const [follow, setFollow] = useRecoilState(isFollow);\r\n  const user = useAuth();\r\n  const data = useFollow(id);\r\n  const onFollow = async () => {\r\n    await followUser({\r\n      variables: { id: id },\r\n    });\r\n    try {\r\n      setFollow(!follow);\r\n    } catch {}\r\n  };\r\n  return (\r\n    <button\r\n      onClick={onFollow}\r\n      className=\"w-36 md:w-28 md:h-8 h-9 bg-blue-200 rounded-md font-semibold capitalize text-base hover:bg-blue-300 text-blue-700\"\r\n    >\r\n      {data.followers.indexOf(user) >= 0 ? \"unfollow\" : \"follow\"}\r\n    </button>\r\n  );\r\n};\r\nexport default Follow;\r\n","import React from \"react\";\r\nimport { useMutation } from \"@apollo/client\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport { useHistory } from \"react-router\";\r\nimport { isLogin } from \"../shared/user.state\";\r\nimport { LOGOUT } from \"../gql/mutation\";\r\n\r\nconst Logout = () => {\r\n  const [login, setLogin] = useRecoilState(isLogin);\r\n  const history = useHistory();\r\n  const [logout, { data }] = useMutation(LOGOUT);\r\n\r\n  const onLogout = async () => {\r\n    await logout();\r\n  };\r\n  if (data?.logout) {\r\n    !data.logout.user && setLogin(!login);\r\n    !data.logout.user && history.push(\"/\");\r\n  }\r\n\r\n  return (\r\n    <button\r\n      onClick={onLogout}\r\n      className=\"w-36 md:w-32 md:h-8 h-9 bg-red-200 rounded-md font-semibold capitalize text-base hover:bg-red-300 text-red-700\"\r\n    >\r\n      logout\r\n    </button>\r\n  );\r\n};\r\nexport default Logout;\r\n","import { useQuery } from \"@apollo/client\";\r\nimport React, { useEffect } from \"react\";\r\nimport { useParams, Link, useHistory } from \"react-router-dom\";\r\nimport { GET_USER_BY_ID } from \"../gql/query\";\r\nimport { useAuth } from \"../hooks/auth\";\r\nimport { createProfile } from \"../utils/profile\";\r\nimport Follow from \"./Follow\";\r\nimport Logout from \"./Logout\";\r\n\r\nconst Profile = () => {\r\n  const history = useHistory();\r\n  const user = useAuth();\r\n  const { id } = useParams();\r\n  const svg = createProfile(id);\r\n  const { data, refetch } = useQuery(GET_USER_BY_ID, {\r\n    variables: {\r\n      id: id,\r\n    },\r\n  });\r\n  useEffect(() => {\r\n    refetch();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      {data && (\r\n        <div className=\"container px-8 pb-2 md:p-2 \">\r\n          <div className=\"flex justify-around items-start mt-4 md:flex-col\">\r\n            <div className=\"w-1/3  p-4 shadow-md rounded-lg border-2 bg-gray-100 md:container md:mb-6\">\r\n              <div\r\n                className=\"mx-8\"\r\n                dangerouslySetInnerHTML={{ __html: svg }}\r\n              ></div>\r\n              <p className=\"text-5xl capitalize font-extrabold pb-8 md:pb-4 md:text-2xl md:font-bold text-gray-800\">\r\n                {user === id && \"Hello\"} {data.getUserById.username}\r\n              </p>\r\n              {user === id && (\r\n                <span className=\"capitalize font-medium text-md text-gray-500 md:text-base \">\r\n                  Have a nice Editing\r\n                </span>\r\n              )}\r\n              <div className=\"mt-4 mb-4 \">\r\n                <p className=\"text-indigo-500 font-bold md:font-semibold md:text-base \">\r\n                  <span className=\"text-gray-500 md:text-sm \">Email</span> :{\" \"}\r\n                  {data.getUserById.email}\r\n                </p>\r\n                <p className=\"font-semibold text-base md:text-sm text-gray-500\">\r\n                  <span className=\"text-indigo-500 font-bold text-lg md:text-base\">\r\n                    {data.getUserById.followers.length}\r\n                  </span>{\" \"}\r\n                  followers\r\n                </p>\r\n                <p className=\"font-semibold text-base md:text-sm   text-gray-500\">\r\n                  <span className=\" text-indigo-500 font-bold text-lg md:text-base\">\r\n                    {data.getUserById.followings.length}\r\n                  </span>{\" \"}\r\n                  followings\r\n                </p>\r\n              </div>\r\n              {user ? (\r\n                user === id ? (\r\n                  <div className=\"flex container justify-around items-center\">\r\n                    <button\r\n                      onClick={() => history.push(\"/editor\")}\r\n                      className=\" w-36 md:w-32 md:h-8 h-9 bg-green-200 rounded-md font-semibold capitalize text-base hover:bg-green-300  text-green-700\"\r\n                    >\r\n                      Create Story\r\n                    </button>\r\n                    <Logout />\r\n                  </div>\r\n                ) : (\r\n                  <Follow id={id} />\r\n                )\r\n              ) : (\r\n                \"\"\r\n              )}\r\n            </div>\r\n            <div className=\"w-1/2 md:container\">\r\n              <p className=\"text-gray-800 font-bold text-2xl md:text-xl  capitalize mb-8 md:text-center\">\r\n                stories by {data.getUserById.username}\r\n              </p>\r\n              {data.getUserById.stories.length > 0 ? (\r\n                data.getUserById.stories.map((s) => (\r\n                  <Link key={s.id} to={`/story/${s.id}`}>\r\n                    <div className=\"w-full  mr-auto ml-auto mb-4 px-4 py-2 flex justify-between rounded-md bg-yellow-50 flex-col border-2 \">\r\n                      <p className=\"text-3xl font-extrabold md:font-bold font-sans mb-6 md:mb-3 text-gray-800 cursor-pointer capitalize hover:text-yellow-800 md:text-xl\">\r\n                        {s.title}\r\n                      </p>\r\n                      <div>\r\n                        <p className=\"text-gray-600 text-sm font-semibold pb-2\">\r\n                          Published on :{\" \"}\r\n                          {new Date(Number(s.createdAt)).toDateString()}\r\n                        </p>\r\n                      </div>\r\n                      <div className=\"flex container justify-around items-center border-t-2 border-blue-50 \">\r\n                        <p className=\"font-medium text-gray-700\">\r\n                          {s.reactions.length} reactions\r\n                        </p>\r\n                        <p className=\"font-medium text-gray-700\">\r\n                          {s.comments.length} comments\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </Link>\r\n                ))\r\n              ) : (\r\n                <div className=\"container h-28 flex justify-center items-center\">\r\n                  <p className=\"font-bold text-lg capitalize text-gray-300\">\r\n                    Nothing to show here\r\n                  </p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React, { useState } from \"react\";\r\nimport MDEditor from \"@uiw/react-md-editor\";\r\nimport { useMutation, useQuery } from \"@apollo/client\";\r\nimport { UPDATE_STORY } from \"../gql/mutation\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport { GET_STORY_BY_ID } from \"../gql/query\";\r\n\r\nconst UpdateEditor = () => {\r\n  const { id } = useParams();\r\n  const [updateStory] = useMutation(UPDATE_STORY);\r\n  const { data } = useQuery(GET_STORY_BY_ID, {\r\n    variables: { id },\r\n  });\r\n  const history = useHistory();\r\n\r\n  const [value, setValue] = useState(data?.getStoryById?.content);\r\n  const [title, setTitle] = useState(data?.getStoryById?.title);\r\n  const [preview, setPreview] = useState(false);\r\n  const onSave = async () => {\r\n    await updateStory({\r\n      variables: { id: id, title: title, content: value },\r\n    });\r\n    try {\r\n      history.push(`/story/${id}`);\r\n    } catch {}\r\n  };\r\n\r\n  return (\r\n    <div className=\"w-full  px-40 md:p-2\">\r\n      <div className=\"w-full ml-auto sticky top-14 h-14 flex md:flex-col md:h-auto  md:mb-4 items-center justify-between\">\r\n        <input\r\n          className=\"w-4/6 md:w-full h-12 border-2 md:border px-4 md:px-2 text-xl md:text-lg font-bold md:font-semibold outline-none md:mb-2 rounded-md\"\r\n          placeholder=\"Title of the story\"\r\n          onChange={(e) => setTitle(e.target.value)}\r\n          autoFocus\r\n          value={title}\r\n        />\r\n        <div className=\"md:container md:flex md:justify-evenly md:items-center\">\r\n          <button\r\n            disabled={value === \"\" || title === \"\"}\r\n            onClick={() => setPreview(!preview)}\r\n            className={`hidden w-28 md:w-20 h-8 bg-green-100 rounded-md   ${\r\n              value === \"\" || title === \"\" ? \"text-green-400\" : \"text-green-800\"\r\n            } hover:bg-green-300  text-md md:text-sm font-medium shadow-sm md:block`}\r\n          >\r\n            {preview ? \"Edit\" : \"Preview\"}\r\n          </button>\r\n          <button\r\n            onClick={() => history.push(`/story/${id}`)}\r\n            className=\"w-28 md:w-20 h-8 bg-yellow-100 rounded-md hover:bg-yellow-300 text-yellow-800 text-md md:text-sm  font-medium shadow-sm mx-2 md:mx-0\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            disabled={value === \"\" || title === \"\"}\r\n            onClick={onSave}\r\n            className={`w-28 md:w-20 h-8 bg-blue-200 rounded-md hover:bg-blue-300   ${\r\n              value === \"\" || title === \"\" ? \"text-blue-400\" : \"text-blue-800\"\r\n            } text-md md:text-sm  capitalize font-medium shadow-sm  ${\r\n              value === \"\" || title === \"\"\r\n                ? \"cursor-not-allowed\"\r\n                : \"cursor-pointer\"\r\n            }`}\r\n          >\r\n            update\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div className=\"md:block hidden\">\r\n        <MDEditor\r\n          preview={preview ? \"preview\" : \"edit\"}\r\n          hideToolbar=\"true\"\r\n          height={500}\r\n          value={value}\r\n          onChange={setValue}\r\n        />\r\n      </div>\r\n      <div className=\"md:hidden block\">\r\n        <MDEditor height={500} value={value} onChange={setValue} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UpdateEditor;\r\n","import React from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { ApolloClient, InMemoryCache, ApolloProvider } from \"@apollo/client\";\n//componenet import\nimport Header from \"./components/Header\";\nimport Feeds from \"./components/Feeds\";\nimport Editor from \"./components/Editor\";\nimport Login from \"./components/Login\";\nimport StoryView from \"./components/StoryView\";\nimport Register from \"./components/Register\";\nimport Profile from \"./components/Profile\";\nimport UpdateEditor from \"./components/UpdateEditor\";\n\nfunction App() {\n  const client = new ApolloClient({\n    uri: \"/graphql\",\n    cache: new InMemoryCache(),\n  });\n\n  return (\n    <div className=\"App w-full h-full   \">\n      <ApolloProvider client={client}>\n        <Router>\n          <Header />\n\n          <Switch>\n            <Route path=\"/\" exact component={Feeds} />\n            <Route path=\"/editor\" component={Editor} />\n            <Route path=\"/update/:id\" component={UpdateEditor} />\n            <Route path=\"/login\" component={Login} />\n            <Route path=\"/story/:id\" component={StoryView} />\n            <Route path=\"/register\" component={Register} />\n            <Route path=\"/profile/:id\" component={Profile} />\n          </Switch>\n        </Router>\n      </ApolloProvider>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorkerRegistration from \"./serviceWorkerRegistration\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { RecoilRoot } from \"recoil\";\n\nReactDOM.render(\n  <RecoilRoot>\n    <App />\n  </RecoilRoot>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.register();\n\nreportWebVitals();\n"],"sourceRoot":""}