(this["webpackJsonpstorium-pwa"]=this["webpackJsonpstorium-pwa"]||[]).push([[0],{239:function(e,t,n){},687:function(e,t,n){"use strict";n.r(t);var r,c,s,a,o,i,l,d,b,u,m,j=n(0),x=n(90),h=n.n(x),f=(n(239),n(18)),O=n(15),g=n(694),p=n(695),v=n(693),w=n(697),y=n(16),N=n(32),k=n(696),S=Object(k.a)(r||(r=Object(N.a)(["\n  query {\n    getAllStory {\n      id\n      content\n      title\n      authorID\n      createdAt\n      reactions\n      comments {\n        author\n        comment\n      }\n      author {\n        username\n      }\n    }\n  }\n"]))),C=Object(k.a)(c||(c=Object(N.a)(["\n  query getStoryById($id: ID!) {\n    getStoryById(id: $id) {\n      title\n      content\n      authorID\n      createdAt\n      reactions\n      comments {\n        author\n        comment\n      }\n      author {\n        username\n      }\n    }\n  }\n"]))),I=Object(k.a)(s||(s=Object(N.a)(["\n  query {\n    me {\n      user\n    }\n  }\n"]))),B=Object(k.a)(a||(a=Object(N.a)(["\n  query getUserById($id: ID!) {\n    getUserById(id: $id) {\n      username\n      email\n      followers\n      followings\n      stories {\n        id\n        title\n        content\n        createdAt\n      }\n    }\n  }\n"]))),L=Object(y.b)({key:"isLogin",default:!1}),$=Object(y.b)({key:"isFollow",default:!1}),U=function(){var e,t=Object(y.d)(L),n=Object(w.a)(I),r=n.data,c=n.refetch;return Object(j.useEffect)((function(){c()}),[t]),null===r||void 0===r||null===(e=r.me)||void 0===e?void 0:e.user},z=n.p+"static/media/logo.b74770b2.svg",D=n(133),M=n(219),W=function(e){return Object(D.createAvatar)(M,{seed:e})},A=n(2),T=function(){var e=U(),t=W(e);return Object(A.jsxs)("nav",{className:"sticky top-0 w-full h-16 bg-white flex justify-around items-center   px-4 z-10",children:[Object(A.jsx)("img",{className:"w-20 ",src:z,alt:"Storium"}),e?Object(A.jsx)(f.b,{to:"/profile/".concat(e),className:"hidden md:flex items-center justify-center cursor-pointer outline-none sticky right-0 top-2 w-10 h-10 rounded-full  ",children:Object(A.jsx)("div",{className:"w-10 h-10",dangerouslySetInnerHTML:{__html:t}})}):Object(A.jsx)(f.b,{to:"/login",className:"hidden md:flex text-blue-700 items-center justify-center cursor-pointer outline-none sticky right-0 top-2 w-8 h-8 rounded-full bg-blue-200  ",children:Object(A.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(A.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),Object(A.jsxs)("ul",{className:"flex justify-between items-center w-1/2 md:-translate-x-full md:hidden ",children:[Object(A.jsx)("li",{children:Object(A.jsxs)(f.b,{to:"/",className:"font-medium w-20 flex items-center justify-center text-gray-800 cursor-pointer hover:text-blue-500",children:[Object(A.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(A.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})," ","Stories"]})}),e&&Object(A.jsx)("li",{children:Object(A.jsxs)(f.b,{to:"/editor",className:"font-medium flex w-32 justify-center items-center text-gray-800 cursor-pointer hover:text-blue-500",children:[Object(A.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(A.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})," ","Create Story"]})}),e?Object(A.jsx)("li",{children:Object(A.jsx)(f.b,{to:"/profile/".concat(e),children:Object(A.jsx)("div",{className:"w-9 h-9",dangerouslySetInnerHTML:{__html:t}})})}):Object(A.jsx)("li",{children:Object(A.jsx)(f.b,{to:"/login",children:Object(A.jsxs)("button",{className:" flex items-center justify-center w-32 h-9 bg-blue-500 font-medium text-white rounded-md hover:bg-blue-700 cursor-pointer outline-none shadow-md ",children:["Get Started",Object(A.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(A.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})})})]})]})},E=function(){var e=Object(w.a)(S),t=e.data,n=e.refetch;return Object(j.useEffect)((function(){n()}),[]),Object(A.jsx)("div",{className:"w-1/2 m-auto  px-8 py-4 md:w-full md:px-2 ",children:t?t.getAllStory.map((function(e){return Object(A.jsx)(f.b,{to:"/story/".concat(e.id),children:Object(A.jsxs)("div",{className:"w-full bg-blue-100  mr-auto ml-auto mb-4 px-4 md:px-2 py-2 flex justify-between flex-col border-2 rounded-md",children:[Object(A.jsx)("div",{className:"mb-6 md:mb-3",children:Object(A.jsx)(f.b,{to:"/profile/".concat(e.authorID),className:"flex items-center md:flex-col md:items-start",children:Object(A.jsxs)("div",{className:"container flex items-center",children:[Object(A.jsx)("div",{className:"w-8 h-8 ",dangerouslySetInnerHTML:{__html:W(e.authorID)}}),Object(A.jsx)("p",{className:"font-semibold capitalize md:text-sm text-md px-4 md:px-2 text-gray-800 hover:text-blue-500",children:e.author.username})]})})}),Object(A.jsx)("p",{className:"text-3xl font-extrabold md:font-bold font-sans  text-gray-800 cursor-pointer capitalize hover:text-blue-500 md:text-xl",children:e.title}),Object(A.jsxs)("p",{className:"text-gray-500 text-sm font-semibold py-2",children:["Published on : ",new Date(Number(e.createdAt)).toDateString()]}),Object(A.jsxs)("div",{className:"flex container justify-around items-center border-t-2 border-yellow-50 ",children:[Object(A.jsxs)("p",{className:"font-medium text-gray-700",children:[e.reactions.length," reactions"]}),Object(A.jsxs)("p",{className:"font-medium text-gray-700",children:[e.comments.length," comments"]})]})]})},e.id)})):Object(A.jsx)(A.Fragment,{children:[0,0,0,0].map((function(e){return Object(A.jsxs)("div",{className:"w-full bg-blue-100  mr-auto ml-auto mb-4 animate-pulse px-4 py-2 flex justify-between flex-col border-2 rounded-md",children:[Object(A.jsx)("div",{className:"container h-8 bg-blue-200 rounded-lg  mb-8"}),Object(A.jsxs)("div",{children:[Object(A.jsx)("div",{className:"w-40 h-4 bg-blue-200 mb-2 rounded-sm"}),Object(A.jsx)("div",{className:"w-36 h-6 bg-blue-200 rounded"})]})]})}))})})},_=n(13),F=n.n(_),H=n(26),q=n(4),P=n(41),R=n(698),J=Object(k.a)(o||(o=Object(N.a)(["\n  mutation loginUser($email: String!, $password: String!) {\n    loginUser(email: $email, password: $password) {\n      user\n      error\n    }\n  }\n"]))),G=Object(k.a)(i||(i=Object(N.a)(["\n  mutation registerUser(\n    $username: String!\n    $email: String!\n    $password: String!\n  ) {\n    createUser(username: $username, email: $email, password: $password) {\n      user\n      error\n    }\n  }\n"]))),K=Object(k.a)(l||(l=Object(N.a)(["\n  mutation CreateStory($title: String!, $content: String!) {\n    createStory(title: $title, content: $content) {\n      id\n    }\n  }\n"]))),Q=Object(k.a)(d||(d=Object(N.a)(["\n  mutation {\n    logout {\n      user\n    }\n  }\n"]))),V=Object(k.a)(b||(b=Object(N.a)(["\n  mutation comment($id: ID!, $comment: String) {\n    comment(id: $id, comment: $comment) {\n      id\n    }\n  }\n"]))),X=Object(k.a)(u||(u=Object(N.a)(["\n  mutation react($id: ID!) {\n    react(id: $id) {\n      id\n    }\n  }\n"]))),Y=Object(k.a)(m||(m=Object(N.a)(["\n  mutation followUser($id: ID!) {\n    followUser(id: $id) {\n      id\n    }\n  }\n"]))),Z=function(){var e=Object(R.a)(K),t=Object(q.a)(e,1)[0],n=Object(O.f)(),r=Object(j.useState)(""),c=Object(q.a)(r,2),s=c[0],a=c[1],o=Object(j.useState)(""),i=Object(q.a)(o,2),l=i[0],d=i[1],b=Object(j.useState)(!1),u=Object(q.a)(b,2),m=u[0],x=u[1],h=function(){var e=Object(H.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({variables:{title:l,content:s}});case 2:try{n.push("/")}catch(r){}case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(A.jsxs)("div",{className:"w-full  px-40 md:p-2",children:[Object(A.jsxs)("div",{className:"w-full ml-auto sticky top-14 h-14 flex md:flex-col md:h-auto  md:mb-4 items-center justify-between",children:[Object(A.jsx)("input",{className:"w-4/6 md:w-full h-12 border-2 md:border px-4 md:px-2 text-xl md:text-lg font-bold md:font-semibold outline-none md:mb-2 rounded-md",placeholder:"Title of the story",onChange:function(e){return d(e.target.value)},autoFocus:!0}),Object(A.jsxs)("div",{className:"md:container md:flex md:justify-evenly md:items-center",children:[Object(A.jsx)("button",{onClick:function(){return x(!m)},className:" hidden w-28 md:w-20 h-8 bg-green-100 rounded-md hover:bg-green-300 text-green-800 text-md md:text-sm font-medium shadow-sm md:block",children:m?"Edit":"Preview"}),Object(A.jsx)("button",{onClick:function(){return n.push("/")},className:"w-28 md:w-20 h-8 bg-yellow-100 rounded-md hover:bg-yellow-300 text-yellow-800 text-md md:text-sm  font-medium shadow-sm mx-2 md:mx-0",children:"Cancel"}),Object(A.jsx)("button",{disabled:!l&&!s,onClick:h,className:"w-28 md:w-20 h-8 bg-blue-200 rounded-md hover:bg-blue-300  text-blue-800 text-md md:text-sm  capitalize font-medium shadow-sm",children:"publish"})]})]}),Object(A.jsx)("div",{className:"md:block hidden",children:Object(A.jsx)(P.a,{preview:m?"preview":"edit",hideToolbar:"true",height:600,value:s,onChange:a})}),Object(A.jsx)("div",{className:"md:hidden block",children:Object(A.jsx)(P.a,{height:500,value:s,onChange:a})})]})},ee=function(){var e,t,n=Object(O.f)(),r=Object(j.useState)(""),c=Object(q.a)(r,2),s=c[0],a=c[1],o=Object(j.useState)(""),i=Object(q.a)(o,2),l=i[0],d=i[1],b=Object(R.a)(J),u=Object(q.a)(b,2),m=u[0],x=u[1].data,h=Object(y.c)(L),g=Object(q.a)(h,2),p=g[0],v=g[1],w=function(){var e=Object(H.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,m({variables:{email:s,password:l}});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(null===x||void 0===x||null===(e=x.loginUser)||void 0===e?void 0:e.user)&&(v(!p),n.push("/")),Object(A.jsxs)("div",{className:"md:w-full p-8 w-4/12 shadow-lg rounded-lg h-96 ml-auto mr-auto mt-32 md:mt-20 flex flex-col justify-center items-center bg-gray-100",children:[Object(A.jsx)("p",{className:"text-blue-500 font-bold text-3xl mb-4",children:"Login"}),Object(A.jsxs)("form",{className:"container h-60 flex justify-around items-center flex-col relative",onSubmit:w,children:[Object(A.jsx)("input",{className:"w-80 h-11 outline-none border-2 rounded-lg border-blue-400 p-4",type:"email",placeholder:"email",onChange:function(e){return a(e.target.value)},required:!0}),Object(A.jsx)("input",{className:"w-80 h-11 outline-none border-2 rounded-lg border-blue-400 p-4",type:"password",placeholder:"password",onChange:function(e){return d(e.target.value)},required:!0}),(null===x||void 0===x||null===(t=x.loginUser)||void 0===t?void 0:t.error)&&Object(A.jsx)("p",{className:"text-red-500 font-medium ",children:x.loginUser.error}),Object(A.jsx)("button",{disabled:!s&&!l,type:"submit",className:"w-40 md:w-28 h-9 bg-blue-200   rounded-lg text-blue-700 font-semibold  uppercase hover:bg-blue-300 ",children:"submit"}),Object(A.jsx)(f.b,{to:"/register",children:Object(A.jsx)("p",{className:"font-medium text-base hover:text-blue-400 cursor-pointer ",children:"new user"})})]})]})},te=Object(y.b)({key:"isReact",default:!1}),ne=Object(y.b)({key:"isComment",default:!1}),re=function(e){var t=e.id,n=Object(y.c)(te),r=Object(q.a)(n,2),c=r[0],s=r[1],a=U(),o=function(e){var t=Object(y.d)(te),n=Object(w.a)(C,{variables:{id:e}}),r=n.data,c=n.refetch;return Object(j.useEffect)((function(){c()}),[t]),null===r||void 0===r?void 0:r.getStoryById}(t),i=Object(R.a)(X),l=Object(q.a)(i,1)[0],d=function(){var e=Object(H.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l({variables:{id:t}});case 2:try{s(!c)}catch(n){}case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return console.log(o),Object(A.jsx)("div",{onClick:d,className:"cursor-pointer",children:-1===o.reactions.indexOf(a)?Object(A.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(A.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}):Object(A.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor",children:Object(A.jsx)("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})})})},ce=function(e){var t=e.title,n=e.id;return Object(A.jsx)("div",{onClick:function(){navigator.share&&navigator.share({title:t,text:"Storium",url:"https://storium.herokuapp.com/story/".concat(n)})},className:"cursor-pointer",children:Object(A.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(A.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})})})},se=function(e){var t=e.comment,n=Object(w.a)(B,{variables:{id:t.author}}).data,r=W(t.author);return Object(A.jsx)(A.Fragment,{children:n&&Object(A.jsxs)("div",{className:"container my-2 border-2 p-1",children:[Object(A.jsxs)("div",{className:"flex items-center mb-2",children:[Object(A.jsx)("div",{className:"w-8 h-8",dangerouslySetInnerHTML:{__html:r}}),Object(A.jsx)("p",{className:"px-2 text-base font-medium",children:n.getUserById.username})]}),Object(A.jsx)(P.a.Markdown,{source:t.comment})]})})},ae=function(e){var t=e.id,n=Object(j.useState)(""),r=Object(q.a)(n,2),c=r[0],s=r[1],a=Object(y.c)(ne),o=Object(q.a)(a,2),i=o[0],l=o[1],d=Object(j.useState)(!1),b=Object(q.a)(d,2),u=b[0],m=b[1],x=function(e){var t=Object(y.d)(ne),n=Object(w.a)(C,{variables:{id:e}}),r=n.data,c=n.refetch;return Object(j.useEffect)((function(){c()}),[t]),null===r||void 0===r?void 0:r.getStoryById}(t),h=Object(R.a)(V),f=Object(q.a)(h,1)[0],O=function(){var e=Object(H.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f({variables:{id:t,comment:c}});case 2:try{l(!i),s("")}catch(n){}case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(A.jsx)("div",{children:Object(A.jsxs)("div",{children:[Object(A.jsx)(P.a,{preview:u?"preview":"edit",hideToolbar:"true",value:c,onChange:s,height:100}),Object(A.jsxs)("div",{className:"container p-1 flex items-center justify-around",children:[Object(A.jsx)("button",{disabled:""===c,onClick:function(){return m(!u)},className:"w-24 h-8 rounded-md bg-green-200  ".concat(""===c?"text-green-400":"text-green-700"," font-semibold capitalize outline-none"),children:u?"edit":"preview"}),Object(A.jsx)("button",{disabled:""===c,onClick:O,className:"w-24 h-8 rounded-md bg-blue-200  ".concat(""===c?"text-blue-400":"text-blue-700"," font-semibold capitalize outline-none"),children:"comment"})]}),Object(A.jsxs)("div",{children:[Object(A.jsx)("p",{className:"text-lg font-bold ",children:"Comments"}),x.comments.length>0?x.comments.map((function(e){return Object(A.jsx)(se,{comment:e})})):Object(A.jsx)("div",{className:"container h-32 flex justify-center items-center",children:Object(A.jsx)("p",{className:"text-lg font-bold text-gray-400",children:"Nothing to show here"})})]})]})})},oe=function(){var e=Object(O.g)().id,t=Object(w.a)(C,{variables:{id:e}}).data;return Object(A.jsx)("div",{className:"w-2/3 ml-auto mr-auto p-8 bg-white md:w-full md:p-4",children:t?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{className:"mb-8",children:[Object(A.jsx)("p",{className:"text-4xl font-extrabold mb-8 capitalize md:text-3xl md:font-bold ",children:t.getStoryById.title}),Object(A.jsxs)("div",{className:"flex items-center justify-between md:flex-col md:items-start",children:[Object(A.jsxs)(f.b,{to:"/profile/".concat(t.getStoryById.authorID),className:"flex items-center",children:[Object(A.jsx)("div",{dangerouslySetInnerHTML:{__html:W(t.getStoryById.authorID)},className:"w-12 h-12 md:w-8 md:h-8"}),Object(A.jsxs)("p",{className:"px-4 md:px-2 hover:text-blue-500 capitalize font-bold text-gray-700",children:[" ",t.getStoryById.author.username]})]}),Object(A.jsxs)("p",{className:"text-gray-500 text-sm font-semibold",children:["Published on :"," ",new Date(Number(t.getStoryById.createdAt)).toDateString()]})]})]}),Object(A.jsx)("hr",{}),Object(A.jsx)(P.a.Markdown,{className:"  text-gray-800 md:text-md",style:{fontSize:"1.1rem"},source:t.getStoryById.content}),Object(A.jsxs)("div",{className:"container flex justify-around items-center h-10 border-2 rounded mt-2",children:[Object(A.jsx)(re,{id:e}),Object(A.jsx)(ce,{id:e,title:t.getStoryById.title})]}),Object(A.jsx)(ae,{id:e})]}):Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{className:"mb-8 animate-pulse",children:[Object(A.jsx)("div",{className:"container h-12 rounded-lg bg-gray-200 mb-8"}),Object(A.jsxs)("div",{className:"flex items-center justify-between md:flex-col md:items-start",children:[Object(A.jsx)("div",{className:"bg-gray-200 w-32 h-4 rounded mb-2"}),Object(A.jsx)("div",{className:"bg-gray-200 w-36 h-4 rounded"})]})]}),Object(A.jsx)("hr",{}),Object(A.jsxs)("div",{className:"container animate-pulse ",children:[Object(A.jsx)("div",{className:"container h-4 mb-2 bg-gray-200"}),Object(A.jsx)("div",{className:"container h-4  mb-2 bg-gray-200"}),Object(A.jsx)("div",{className:"container h-4  mb-2 bg-gray-200"}),Object(A.jsx)("div",{className:"container h-4  mb-2 bg-gray-200"}),Object(A.jsx)("div",{className:"container h-4 bg-gray-200"})]})]})})},ie=function(){var e,t,n=Object(O.f)(),r=Object(j.useState)(""),c=Object(q.a)(r,2),s=c[0],a=c[1],o=Object(j.useState)(""),i=Object(q.a)(o,2),l=i[0],d=i[1],b=Object(j.useState)(""),u=Object(q.a)(b,2),m=u[0],x=u[1],h=Object(R.a)(G),f=Object(q.a)(h,2),g=f[0],p=f[1].data;return(null===p||void 0===p||null===(e=p.createUser)||void 0===e?void 0:e.user)&&n.push("/login"),Object(A.jsxs)("div",{className:"md:w-full p-8 w-4/12 shadow-lg rounded-lg h-96 ml-auto md:mt-20 mr-auto mt-32 flex flex-col justify-center items-center bg-gray-100",children:[Object(A.jsx)("p",{className:"text-blue-500 font-bold text-3xl mb-4",children:"Register"}),Object(A.jsxs)("form",{className:"container h-60 flex justify-around items-center flex-col ",onSubmit:function(e){e.preventDefault(),g({variables:{username:s,email:l,password:m}})},children:[Object(A.jsx)("input",{className:"w-80 h-11 outline-none border-2 rounded-lg border-blue-400 p-4",type:"text",placeholder:"username",required:!0,onChange:function(e){return a(e.target.value)}}),Object(A.jsx)("input",{className:"w-80 h-11 outline-none border-2 rounded-lg border-blue-400 p-4",type:"email",placeholder:"email",required:!0,onChange:function(e){return d(e.target.value)}}),Object(A.jsx)("input",{className:"w-80 h-11 outline-none border-2 rounded-lg border-blue-400 p-4",type:"password",placeholder:"password",required:!0,onChange:function(e){return x(e.target.value)}}),(null===p||void 0===p||null===(t=p.createUser)||void 0===t?void 0:t.error)&&Object(A.jsx)("p",{className:"text-red-500 font-medium ",children:p.createUser.error}),Object(A.jsx)("button",{type:"submit",className:"w-40 md:w-28 h-9 bg-blue-200 rounded-lg text-blue-700 font-semibold uppercase hover:bg-blue-300",children:"submit"})]})]})},le=function(e){var t=e.id,n=Object(R.a)(Y),r=Object(q.a)(n,1)[0],c=Object(y.c)($),s=Object(q.a)(c,2),a=s[0],o=s[1],i=U(),l=function(e){var t=Object(y.d)($),n=Object(w.a)(B,{variables:{id:e}}),r=n.data,c=n.refetch;return Object(j.useEffect)((function(){c()}),[t]),null===r||void 0===r?void 0:r.getUserById}(t),d=function(){var e=Object(H.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r({variables:{id:t}});case 2:try{o(!a)}catch(n){}case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(A.jsx)("button",{onClick:d,className:"w-36 md:w-28 md:h-8 h-9 bg-blue-200 rounded-md font-semibold capitalize text-base hover:bg-blue-300 text-blue-700",children:l.followers.indexOf(i)>=0?"unfollow":"follow"})},de=function(){var e=Object(y.c)(L),t=Object(q.a)(e,2),n=t[0],r=t[1],c=Object(O.f)(),s=Object(R.a)(Q),a=Object(q.a)(s,2),o=a[0],i=a[1].data,l=function(){var e=Object(H.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(null===i||void 0===i?void 0:i.logout)&&(!i.logout.user&&r(!n),!i.logout.user&&c.push("/")),Object(A.jsx)("button",{onClick:l,className:"w-36 md:w-32 md:h-8 h-9 bg-red-200 rounded-md font-semibold capitalize text-base hover:bg-red-300 text-red-700",children:"logout"})},be=function(){var e=Object(O.f)(),t=U(),n=Object(O.g)().id,r=W(n),c=Object(w.a)(B,{variables:{id:n}}),s=c.data,a=c.refetch;return Object(j.useEffect)((function(){a()}),[]),Object(A.jsx)(A.Fragment,{children:s&&Object(A.jsx)("div",{className:"container px-8 pb-2 md:p-2 ",children:Object(A.jsxs)("div",{className:"flex justify-around items-start mt-4 md:flex-col",children:[Object(A.jsxs)("div",{className:"w-1/3  p-4 shadow-md rounded-lg border-2 bg-gray-100 md:container md:mb-6",children:[Object(A.jsx)("div",{className:"mx-8",dangerouslySetInnerHTML:{__html:r}}),Object(A.jsxs)("p",{className:"text-5xl capitalize font-extrabold pb-8 md:pb-4 md:text-2xl md:font-bold text-gray-800",children:[t===n&&"Hello"," ",s.getUserById.username]}),t===n&&Object(A.jsx)("span",{className:"capitalize font-medium text-md text-gray-500 md:text-base ",children:"Have a nice Editing"}),Object(A.jsxs)("div",{className:"mt-4 mb-4 ",children:[Object(A.jsxs)("p",{className:"text-indigo-500 font-bold md:font-semibold md:text-base ",children:[Object(A.jsx)("span",{className:"text-gray-500 md:text-sm ",children:"Email"})," :"," ",s.getUserById.email]}),Object(A.jsxs)("p",{className:"font-semibold text-base md:text-sm text-gray-500",children:[Object(A.jsx)("span",{className:"text-indigo-500 font-bold text-lg md:text-base",children:s.getUserById.followers.length})," ","followers"]}),Object(A.jsxs)("p",{className:"font-semibold text-base md:text-sm   text-gray-500",children:[Object(A.jsx)("span",{className:" text-indigo-500 font-bold text-lg md:text-base",children:s.getUserById.followings.length})," ","followings"]})]}),t?t===n?Object(A.jsxs)("div",{className:"flex container justify-around items-center",children:[Object(A.jsx)("button",{onClick:function(){return e.push("/editor")},className:" w-36 md:w-32 md:h-8 h-9 bg-green-200 rounded-md font-semibold capitalize text-base hover:bg-green-300  text-green-700",children:"Create Story"}),Object(A.jsx)(de,{})]}):Object(A.jsx)(le,{id:n}):""]}),Object(A.jsxs)("div",{className:"w-1/2 md:container",children:[Object(A.jsxs)("p",{className:"text-gray-800 font-bold text-2xl md:text-xl  capitalize mb-8 md:text-center",children:["stories by ",s.getUserById.username]}),s.getUserById.stories.length>0?s.getUserById.stories.map((function(e){return Object(A.jsx)(f.b,{to:"/story/".concat(e.id),children:Object(A.jsxs)("div",{className:"w-full  mr-auto ml-auto mb-4 px-4 py-2 flex justify-between rounded-md bg-yellow-50 flex-col border-2 ",children:[Object(A.jsx)("p",{className:"text-3xl font-extrabold md:font-bold font-sans mb-6 md:mb-3 text-gray-800 cursor-pointer capitalize hover:text-yellow-800 md:text-xl",children:e.title}),Object(A.jsx)("div",{children:Object(A.jsxs)("p",{className:"text-gray-600 text-sm font-semibold",children:["Published on :"," ",new Date(Number(e.createdAt)).toDateString()]})})]})},e.id)})):Object(A.jsx)("div",{className:"container h-28 flex justify-center items-center",children:Object(A.jsx)("p",{className:"font-bold text-lg capitalize text-gray-300",children:"Nothing to show here"})})]})]})})})};var ue=function(){var e=new g.a({uri:"/graphql",cache:new p.a});return Object(A.jsx)("div",{className:"App w-full h-full   ",children:Object(A.jsx)(v.a,{client:e,children:Object(A.jsxs)(f.a,{children:[Object(A.jsx)(T,{}),Object(A.jsxs)(O.c,{children:[Object(A.jsx)(O.a,{path:"/",exact:!0,component:E}),Object(A.jsx)(O.a,{path:"/editor",component:Z}),Object(A.jsx)(O.a,{path:"/login",component:ee}),Object(A.jsx)(O.a,{path:"/story/:id",component:oe}),Object(A.jsx)(O.a,{path:"/register",component:ie}),Object(A.jsx)(O.a,{path:"/profile/:id",component:be})]})]})})})},me=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function je(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var xe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,700)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),s(e),a(e)}))};h.a.render(Object(A.jsx)(y.a,{children:Object(A.jsx)(ue,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");me?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):je(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):je(t,e)}))}}(),xe()}},[[687,1,2]]]);
//# sourceMappingURL=main.607c0c37.chunk.js.map